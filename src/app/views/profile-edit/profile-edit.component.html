<div class="profile-edit-container" *ngIf="usuario; else notAuth">
  <div class="profile-card">
    <h2>Editar perfil</h2>
    <form (ngSubmit)="guardar()">
      <div class="form-group">
        <label>Nombre</label>
        <input [(ngModel)]="nombre" name="nombre" [disabled]="guardando" />
      </div>
      <div class="form-group">
        <label>Email</label>
        <input [value]="email" disabled />
        <small>Este correo no se puede modificar.</small>
      </div>
      <div class="form-group">
        <label>Nueva contraseña</label>
        <input type="password" [(ngModel)]="password" name="password" placeholder="Dejar en blanco = sin cambio" [disabled]="guardando" />
      </div>
      <div class="form-actions">
        <button class="btn-save" type="submit" [disabled]="guardando">{{ guardando ? 'Guardando...' : 'Guardar' }}</button>
        <button class="btn-cancel" type="button" (click)="router.navigate(['/dashboard'])" [disabled]="guardando">Cancelar</button>
      </div>
    </form>
  </div>
</div>
<ng-template #notAuth>
  <div class="profile-edit-container">
    <div class="profile-card">
      <h2>No autenticado</h2>
      <p>Inicia sesión para editar tu perfil.</p>
      <div class="form-actions">
        <button class="btn-save" (click)="router.navigate(['/login'])">Ir a iniciar sesión</button>
      </div>
    </div>
  </div>
</ng-template>
